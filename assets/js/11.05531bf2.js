(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{383:function(e,a,t){"use strict";t.r(a);var i=t(46),n=Object(i.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"fe-engineering-practice"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fe-engineering-practice"}},[e._v("#")]),e._v(" FE-engineering-practice")]),e._v(" "),t("h3",{attrs:{id:"工程实践"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#工程实践"}},[e._v("#")]),e._v(" 工程实践")]),e._v(" "),t("h3",{attrs:{id:"小程序页面截图方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#小程序页面截图方案"}},[e._v("#")]),e._v(" 小程序页面截图方案")]),e._v(" "),t("ol",[t("li",[e._v("参考微信小程序官方没有公开 api 解决")]),e._v(" "),t("li",[e._v("使用 webview，使用 html2canvas 生成 canvas，但是无法通过 webview2wxminiapp 的方式将图片数据传递过来\n"),t("ul",[t("li",[e._v("这里考虑了一些方案，比如提交到后端，然后通过 webview 传递到小程序，调用小程序的保存图片到相册的方式（这里有一个坑，目前没办法解决，就是没办法实时通讯，就需要从 webview 调用 jssdk 跳转到截图完成页面，通知小程序截图完成并且传过去服务器上的 url 地址）")])])]),e._v(" "),t("li",[e._v("思维跳跃了一下，这种一线大厂的 app 对网页都有一个处理，可以长按图片打开底部抽屉进行保存图片，所以做了一下尝试，利用这个 app 的能力完成图片的保存\n"),t("ul",[t("li",[e._v("具体实现方式\n"),t("ol",[t("li",[e._v("一般页面上会有长按保存图片的按钮 示意用户可以通过长按进行保存")]),e._v(" "),t("li",[e._v("将需要保存的图片覆盖在这个按钮上， 并设置这个图片的透明度为 0，这样的方式是为了让 app 的长按脚本 能够找到我们的图片")]),e._v(" "),t("li",[e._v("通过上述步骤，就可以在 webview 场景下利用 app 原生能力实现图片的下载")])])])])])]),e._v(" "),t("p",[e._v("组件库")]),e._v(" "),t("p",[e._v("工程积累")])])}),[],!1,null,null,null);a.default=n.exports}}]);