# FE-engineering-practice

### 工程实践

### 小程序页面截图方案

1. 参考微信小程序官方没有公开 api 解决
2. 使用 webview，使用 html2canvas 生成 canvas，但是无法通过 webview2wxminiapp 的方式将图片数据传递过来
   - 这里考虑了一些方案，比如提交到后端，然后通过 webview 传递到小程序，调用小程序的保存图片到相册的方式（这里有一个坑，目前没办法解决，就是没办法实时通讯，就需要从 webview 调用 jssdk 跳转到截图完成页面，通知小程序截图完成并且传过去服务器上的 url 地址）
3. 思维跳跃了一下，这种一线大厂的 app 对网页都有一个处理，可以长按图片打开底部抽屉进行保存图片，所以做了一下尝试，利用这个 app 的能力完成图片的保存
   - 具体实现方式
     1. 一般页面上会有长按保存图片的按钮 示意用户可以通过长按进行保存
     2. 将需要保存的图片覆盖在这个按钮上， 并设置这个图片的透明度为 0，这样的方式是为了让 app 的长按脚本 能够找到我们的图片
     3. 通过上述步骤，就可以在 webview 场景下利用 app 原生能力实现图片的下载

组件库

工程积累
